<project name="helloworld" default="run" basedir=".">

<property name="classes" value="build/classes"/>
<property name="juddi.parent.dir" value="../../.."/>
<property name="src.dir" value="src"/>

<path id="exec-classpath">
	<pathelement location="." />
	<pathelement location="${classes}"/>
	<pathelement location="${basedir}/src" />
	<fileset dir="${basedir}/build/lib" includes="*.jar"/>
<!--	
	<fileset dir="${juddi.parent.dir}/juddi-core/target" includes="*.jar" /> 	<fileset dir="${juddi.parent.dir}/uddi-client/target" includes="*.jar"/>
	<fileset dir="${juddi.parent.dir}/uddi-ws/target" includes="*.jar"/>
-->
</path>

<target name="clean">
	<delete dir="build"/>
</target>

<target name="dependencies.get">
	<ant antfile="ivy-build.xml" />
</target>

<target name="dependencies.report">
	<ant antfile="ivy-build.xml" target="report" />
</target>

<target name="dependencies.cleancache">
	<ant antfile="ivy-build.xml" target="cleancache" />
</target>

<target name="compile" depends="dependencies.get">
	<mkdir dir="${classes}"/>
	<javac srcdir="${src.dir}" destdir="${classes}" 
		debug="true" deprecation="true">
		<classpath refid="exec-classpath" />
	</javac>
</target>

<target name="run" depends="compile">
	<echo>HelloWorld Grab AuthToken</echo>
	<java fork="yes" 
		classname="org.apache.juddi.examples.helloworld.HelloWorld"
		failonerror="true">
		<classpath refid="exec-classpath"/>
	</java>
</target>

</project>
